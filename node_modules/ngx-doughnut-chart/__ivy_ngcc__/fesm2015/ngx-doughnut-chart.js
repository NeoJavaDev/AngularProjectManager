import { Injectable, NgModule, Component, Input, defineInjectable } from '@angular/core';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

function NgxDonutChartComponent__svg_path_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵnamespaceSVG();
    ɵngcc0.ɵɵelement(0, "path", 6);
} if (rf & 2) {
    const arc_r3 = ctx.$implicit;
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵattribute("d", arc_r3.d)("stroke", arc_r3.color)("stroke-width", ctx_r0.thickness);
} }
const _c0 = function (a0, a1) { return { "width": a0, "height": a1 }; };
function NgxDonutChartComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵnamespaceSVG();
    ɵngcc0.ɵɵnamespaceHTML();
    ɵngcc0.ɵɵelementStart(0, "div", 7);
    ɵngcc0.ɵɵelement(1, "div", 8)(2, "div", 9);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction2(4, _c0, ctx_r1.width, ctx_r1.height));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngClass", ctx_r1.totalClass)("innerText", ctx_r1.total);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("innerText", ctx_r1.title);
} }
const _c1 = function (a0) { return { "background-color": a0 }; };
function NgxDonutChartComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 10);
    ɵngcc0.ɵɵelement(1, "div", 11)(2, "div", 12)(3, "div", 13);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r4 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(3, _c1, item_r4.color));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("innerText", item_r4.label);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("innerText", item_r4.percentage);
} }
const _c2 = function (a0) { return { "width": a0 }; };
class NgxDonutChartService {
    constructor() { }
}
NgxDonutChartService.ɵfac = function NgxDonutChartService_Factory(t) { return new (t || NgxDonutChartService)(); };
NgxDonutChartService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: NgxDonutChartService, factory: NgxDonutChartService.ɵfac, providedIn: 'root' });
/** @nocollapse */
NgxDonutChartService.ctorParameters = () => [];
/** @nocollapse */ NgxDonutChartService.ngInjectableDef = defineInjectable({ factory: function NgxDonutChartService_Factory() { return new NgxDonutChartService(); }, token: NgxDonutChartService, providedIn: "root" });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxDonutChartService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return []; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class NgxDonutChartComponent {
    constructor() { }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.setDefaults();
        /** @type {?} */
        let angles = this._calculateAngles(this.data);
        /** @type {?} */
        let ArchPoints = this._calculateArcPoints(this.data);
    }
    /**
     * @return {?}
     */
    setDefaults() {
        this.arcs = [];
        this.radius = this.radius || 200;
        this.margin = this.margin || 10;
        this.thickness = this.thickness || 8;
        this.totalClass = this.totalClass || 'c-donutchart__title';
        this.origin = {
            x: this.radius,
            y: this.radius,
        };
        this.width = ((2 * this.radius) + (2 * this.margin)) + 'px';
        this.height = ((2 * this.radius) + (2 * this.margin)) + 'px';
    }
    /**
     * @param {?} data
     * @return {?}
     */
    _calculateArcPoints(data) {
        /** @type {?} */
        let archPoints = [];
        archPoints.push({
            x: this.radius,
            y: 0,
        });
        /** @type {?} */
        let startAngle = 0;
        /** @type {?} */
        let endAngle;
        /** @type {?} */
        let startX = this.origin.x;
        /** @type {?} */
        let startY = this.origin.y;
        for (let item of data) {
            endAngle = (startAngle + item.angle) % 360;
            startAngle += 8;
            /** @type {?} */
            let arc = this._describeArc(startX, startY, this.radius, startAngle, endAngle, item.color);
            this.arcs.push(arc);
            startAngle = endAngle;
        }
    }
    /**
     * @param {?} x
     * @param {?} y
     * @param {?} radius
     * @param {?} startAngle
     * @param {?} endAngle
     * @param {?} color
     * @return {?}
     */
    _describeArc(x, y, radius, startAngle, endAngle, color) {
        /** @type {?} */
        let start = this._polarToCartesian(x, y, radius, startAngle);
        /** @type {?} */
        let end = this._polarToCartesian(x, y, radius, endAngle);
        /** @type {?} */
        let arcSweep = endAngle - startAngle <= 180 ? "0" : "1";
        /** @type {?} */
        let d = [
            "M", start.x, start.y,
            "A", radius, radius, 0, arcSweep, 1, end.x, end.y,
        ].join(" ");
        return {
            d: d,
            end: end,
            color: color,
        };
    }
    /**
     * @param {?} data
     * @return {?}
     */
    _calculateAngles(data) {
        /** @type {?} */
        let angles = [];
        /** @type {?} */
        let total = this._getTotal(data);
        this.total = total;
        for (let i = 0; i < data.length; i++) {
            /** @type {?} */
            let dataItem = data[i];
            /** @type {?} */
            let angle = (dataItem.value / total) * 360.0;
            dataItem.angle = angle;
            dataItem.percentage = ((dataItem.value / total) * 100.0).toFixed(2) + '%';
            angles.push(angle);
        }
        return angles;
    }
    /**
     * @param {?} data
     * @return {?}
     */
    _getTotal(data) {
        return data.reduce((a, b) => ({ value: a.value + b.value })).value;
    }
    /**
     * @param {?} centerX
     * @param {?} centerY
     * @param {?} radius
     * @param {?} angleInDegrees
     * @return {?}
     */
    _polarToCartesian(centerX, centerY, radius, angleInDegrees) {
        /** @type {?} */
        let angleInRadians = (angleInDegrees) * Math.PI / 180.0;
        return {
            x: centerX + (radius * Math.cos(angleInRadians)) + this.margin,
            y: centerY + (radius * Math.sin(angleInRadians)) + this.margin,
        };
    }
}
NgxDonutChartComponent.ɵfac = function NgxDonutChartComponent_Factory(t) { return new (t || NgxDonutChartComponent)(); };
NgxDonutChartComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NgxDonutChartComponent, selectors: [["ngx-donut-chart"]], inputs: { radius: "radius", margin: "margin", thickness: "thickness", totalClass: "totalClass", data: "data", title: "title" }, decls: 6, vars: 10, consts: [[1, "c-donutchart", 3, "ngStyle"], ["xmlns", "http://www.w3.org/2000/svg", 3, "ngStyle"], ["fill", "transparent", "fill-opacity", "0.5", 4, "ngFor", "ngForOf"], ["class", "c-donutchart__text", 3, "ngStyle", 4, "ngIf"], [1, "c-donutchart__legends"], ["class", "c-donutchart__legend", 4, "ngFor", "ngForOf"], ["fill", "transparent", "fill-opacity", "0.5"], [1, "c-donutchart__text", 3, "ngStyle"], [3, "ngClass", "innerText"], [3, "innerText"], [1, "c-donutchart__legend"], [1, "c-donutchart__legend-bar", 3, "ngStyle"], [1, "c-donutchart__legend-title", 3, "innerText"], [1, "c-donutchart__legend-percentage", 3, "innerText"]], template: function NgxDonutChartComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵnamespaceSVG();
        ɵngcc0.ɵɵelementStart(1, "svg", 1);
        ɵngcc0.ɵɵtemplate(2, NgxDonutChartComponent__svg_path_2_Template, 1, 3, "path", 2);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(3, NgxDonutChartComponent_div_3_Template, 3, 7, "div", 3);
        ɵngcc0.ɵɵnamespaceHTML();
        ɵngcc0.ɵɵelementStart(4, "div", 4);
        ɵngcc0.ɵɵtemplate(5, NgxDonutChartComponent_div_5_Template, 4, 5, "div", 5);
        ɵngcc0.ɵɵelementEnd()();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(5, _c2, ctx.width));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction2(7, _c0, ctx.width, ctx.height));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.arcs);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.title);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.data);
    } }, dependencies: [ɵngcc1.NgClass, ɵngcc1.NgForOf, ɵngcc1.NgIf, ɵngcc1.NgStyle], styles: [".c-donutchart[_ngcontent-%COMP%]{position:relative}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;flex-flow:column;align-items:center;justify-content:center}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__title[_ngcontent-%COMP%]{font-size:40px}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__legends[_ngcontent-%COMP%]{display:flex;justify-content:center}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__legend[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;margin:16px 8px}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__legend-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:8px;width:40px;height:8px;border-radius:4px;background-color:#dc143c}.c-donutchart[_ngcontent-%COMP%]   .c-donutchart__legend-percentage[_ngcontent-%COMP%], .c-donutchart[_ngcontent-%COMP%]   .c-donutchart__legend-title[_ngcontent-%COMP%]{text-align:center}"] });
/** @nocollapse */
NgxDonutChartComponent.ctorParameters = () => [];
NgxDonutChartComponent.propDecorators = {
    data: [{ type: Input }],
    radius: [{ type: Input }],
    margin: [{ type: Input }],
    title: [{ type: Input }],
    thickness: [{ type: Input }],
    totalClass: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxDonutChartComponent, [{
        type: Component,
        args: [{ selector: 'ngx-donut-chart', template: `<div
  class="c-donutchart"
  [ngStyle]="{'width': width}">
  <svg
    [ngStyle]="{'width': width, 'height': height}"
    xmlns="http://www.w3.org/2000/svg">
    <!-- <path [attr.d]="pathD" stroke="black" fill="transparent" stroke-width="8" fill-opacity="0.5"/> -->
    <path
      *ngFor="let arc of arcs"
      [attr.d]="arc.d"
      [attr.stroke]="arc.color"
      fill="transparent"
      [attr.stroke-width]="thickness"
      fill-opacity="0.5"/>
  </svg>

  <div
    class="c-donutchart__text"
    *ngIf="title"
    [ngStyle]="{'width': width, 'height': height}">
    <div
      [ngClass]="totalClass"
      [innerText]="total"></div>
    <div [innerText]="title"></div>
  </div>

  <div class="c-donutchart__legends">
    <div
      class="c-donutchart__legend"
      *ngFor="let item of data">
      <div
        class="c-donutchart__legend-bar"
        [ngStyle]="{'background-color': item.color}">
      </div>

      <div
        class="c-donutchart__legend-title"
        [innerText]="item.label">
      </div>

      <div
        class="c-donutchart__legend-percentage"
        [innerText]="item.percentage">
      </div>
    </div>
  </div>
</div>
`, styles: [".c-donutchart{position:relative}.c-donutchart .c-donutchart__text{position:absolute;top:0;left:0;display:flex;flex-flow:column;align-items:center;justify-content:center}.c-donutchart .c-donutchart__title{font-size:40px}.c-donutchart .c-donutchart__legends{display:flex;justify-content:center}.c-donutchart .c-donutchart__legend{display:flex;flex-flow:column;align-items:center;margin:16px 8px}.c-donutchart .c-donutchart__legend-bar{display:flex;align-items:center;justify-content:center;margin-bottom:8px;width:40px;height:8px;border-radius:4px;background-color:#dc143c}.c-donutchart .c-donutchart__legend-percentage,.c-donutchart .c-donutchart__legend-title{text-align:center}"] }]
    }], function () { return []; }, { radius: [{
            type: Input
        }], margin: [{
            type: Input
        }], thickness: [{
            type: Input
        }], totalClass: [{
            type: Input
        }], data: [{
            type: Input
        }], title: [{
            type: Input
        }] }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class NgxDonutChartModule {
}
NgxDonutChartModule.ɵfac = function NgxDonutChartModule_Factory(t) { return new (t || NgxDonutChartModule)(); };
NgxDonutChartModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NgxDonutChartModule });
NgxDonutChartModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [CommonModule] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxDonutChartModule, [{
        type: NgModule,
        args: [{
                imports: [
                    CommonModule
                ],
                declarations: [NgxDonutChartComponent],
                exports: [NgxDonutChartComponent]
            }]
    }], null, null); })();
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxDonutChartModule, { declarations: function () { return [NgxDonutChartComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [NgxDonutChartComponent]; } }); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { NgxDonutChartService, NgxDonutChartComponent, NgxDonutChartModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWRvdWdobnV0LWNoYXJ0LmpzIiwic291cmNlcyI6WyJuZ3gtZG91Z2hudXQtY2hhcnQvbGliL25neC1kb251dC1jaGFydC5zZXJ2aWNlLnRzIiwibmd4LWRvdWdobnV0LWNoYXJ0L2xpYi9uZ3gtZG9udXQtY2hhcnQuY29tcG9uZW50LnRzIiwibmd4LWRvdWdobnV0LWNoYXJ0L2xpYi9uZ3gtZG9udXQtY2hhcnQubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQTZCLElBTzNCLGlCQUFpQjtBQUNuQjtnREFOQyxVQUFVLFNBQUMsa0JBQ1YsVUFBVSxFQUFFLE1BQU07Q0FDbkIsNkpBQ0s7QUFBQztBQUFtQjtBQUlYOzs7Ozs7Z0RBQXlOO0FBQUM7QUFBQztBQUFJO0FBQWtDO0FBQWtFO0FDVGxWO0FBQStCLElBa0U3QixpQkFBaUI7QUFDbkI7QUFDTztBQUNJO0FBQVEsSUFEakIsUUFBUTtBQUNWLFFBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3ZCO0FBQXlCLFFBQXJCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEQ7QUFBeUIsUUFBckIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6RCxLQUFHO0FBQ0g7QUFDTztBQUNDO0FBQVEsSUFEZCxXQUFXO0FBQ2IsUUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNuQixRQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUM7QUFDckMsUUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO0FBQ3BDLFFBQUksSUFBSSxDQUFDLFNBQVMs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QUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUEzSkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUErQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQzVEQSxBQUtBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBOZ3hEb251dENoYXJ0U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtZG9udXQtY2hhcnQnLFxuICB0ZW1wbGF0ZTogYDxkaXZcbiAgY2xhc3M9XCJjLWRvbnV0Y2hhcnRcIlxuICBbbmdTdHlsZV09XCJ7J3dpZHRoJzogd2lkdGh9XCI+XG4gIDxzdmdcbiAgICBbbmdTdHlsZV09XCJ7J3dpZHRoJzogd2lkdGgsICdoZWlnaHQnOiBoZWlnaHR9XCJcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgPCEtLSA8cGF0aCBbYXR0ci5kXT1cInBhdGhEXCIgc3Ryb2tlPVwiYmxhY2tcIiBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2Utd2lkdGg9XCI4XCIgZmlsbC1vcGFjaXR5PVwiMC41XCIvPiAtLT5cbiAgICA8cGF0aFxuICAgICAgKm5nRm9yPVwibGV0IGFyYyBvZiBhcmNzXCJcbiAgICAgIFthdHRyLmRdPVwiYXJjLmRcIlxuICAgICAgW2F0dHIuc3Ryb2tlXT1cImFyYy5jb2xvclwiXG4gICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxuICAgICAgW2F0dHIuc3Ryb2tlLXdpZHRoXT1cInRoaWNrbmVzc1wiXG4gICAgICBmaWxsLW9wYWNpdHk9XCIwLjVcIi8+XG4gIDwvc3ZnPlxuXG4gIDxkaXZcbiAgICBjbGFzcz1cImMtZG9udXRjaGFydF9fdGV4dFwiXG4gICAgKm5nSWY9XCJ0aXRsZVwiXG4gICAgW25nU3R5bGVdPVwieyd3aWR0aCc6IHdpZHRoLCAnaGVpZ2h0JzogaGVpZ2h0fVwiPlxuICAgIDxkaXZcbiAgICAgIFtuZ0NsYXNzXT1cInRvdGFsQ2xhc3NcIlxuICAgICAgW2lubmVyVGV4dF09XCJ0b3RhbFwiPjwvZGl2PlxuICAgIDxkaXYgW2lubmVyVGV4dF09XCJ0aXRsZVwiPjwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiYy1kb251dGNoYXJ0X19sZWdlbmRzXCI+XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJjLWRvbnV0Y2hhcnRfX2xlZ2VuZFwiXG4gICAgICAqbmdGb3I9XCJsZXQgaXRlbSBvZiBkYXRhXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiYy1kb251dGNoYXJ0X19sZWdlbmQtYmFyXCJcbiAgICAgICAgW25nU3R5bGVdPVwieydiYWNrZ3JvdW5kLWNvbG9yJzogaXRlbS5jb2xvcn1cIj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiYy1kb251dGNoYXJ0X19sZWdlbmQtdGl0bGVcIlxuICAgICAgICBbaW5uZXJUZXh0XT1cIml0ZW0ubGFiZWxcIj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiYy1kb251dGNoYXJ0X19sZWdlbmQtcGVyY2VudGFnZVwiXG4gICAgICAgIFtpbm5lclRleHRdPVwiaXRlbS5wZXJjZW50YWdlXCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2AuYy1kb251dGNoYXJ0e3Bvc2l0aW9uOnJlbGF0aXZlfS5jLWRvbnV0Y2hhcnQgLmMtZG9udXRjaGFydF9fdGV4dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmMtZG9udXRjaGFydCAuYy1kb251dGNoYXJ0X190aXRsZXtmb250LXNpemU6NDBweH0uYy1kb251dGNoYXJ0IC5jLWRvbnV0Y2hhcnRfX2xlZ2VuZHN7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmMtZG9udXRjaGFydCAuYy1kb251dGNoYXJ0X19sZWdlbmR7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjoxNnB4IDhweH0uYy1kb251dGNoYXJ0IC5jLWRvbnV0Y2hhcnRfX2xlZ2VuZC1iYXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1ib3R0b206OHB4O3dpZHRoOjQwcHg7aGVpZ2h0OjhweDtib3JkZXItcmFkaXVzOjRweDtiYWNrZ3JvdW5kLWNvbG9yOiNkYzE0M2N9LmMtZG9udXRjaGFydCAuYy1kb251dGNoYXJ0X19sZWdlbmQtcGVyY2VudGFnZSwuYy1kb251dGNoYXJ0IC5jLWRvbnV0Y2hhcnRfX2xlZ2VuZC10aXRsZXt0ZXh0LWFsaWduOmNlbnRlcn1gXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hEb251dENoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgZGF0YTogW3thbnl9XTtcbiAgQElucHV0KCkgcmFkaXVzOiBudW1iZXI7XG4gIEBJbnB1dCgpIG1hcmdpbjogbnVtYmVyO1xuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuICBASW5wdXQoKSB0aGlja25lc3M6IG51bWJlcjtcbiAgQElucHV0KCkgdG90YWxDbGFzczogc3RyaW5nO1xuICB3aWR0aDogc3RyaW5nO1xuICBoZWlnaHQ6IHN0cmluZztcbiAgb3JpZ2luOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9O1xuICBhcmNzOiBhbnlbXTtcbiAgdG90YWw6IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKSB7IH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNldERlZmF1bHRzKCk7XG4gICAgbGV0IGFuZ2xlcyA9IHRoaXMuX2NhbGN1bGF0ZUFuZ2xlcyh0aGlzLmRhdGEpO1xuICAgIGxldCBBcmNoUG9pbnRzID0gdGhpcy5fY2FsY3VsYXRlQXJjUG9pbnRzKHRoaXMuZGF0YSk7XG4gIH1cblxuICBzZXREZWZhdWx0cygpIHtcbiAgICB0aGlzLmFyY3MgPSBbXTtcbiAgICB0aGlzLnJhZGl1cyA9IHRoaXMucmFkaXVzIHx8IDIwMDtcbiAgICB0aGlzLm1hcmdpbiA9IHRoaXMubWFyZ2luIHx8IDEwO1xuICAgIHRoaXMudGhpY2tuZXNzID0gdGhpcy50aGlja25lc3MgfHwgODtcbiAgICB0aGlzLnRvdGFsQ2xhc3MgPSB0aGlzLnRvdGFsQ2xhc3MgfHwgJ2MtZG9udXRjaGFydF9fdGl0bGUnO1xuICAgIHRoaXMub3JpZ2luID0ge1xuICAgICAgeDogdGhpcy5yYWRpdXMsXG4gICAgICB5OiB0aGlzLnJhZGl1cyxcbiAgICB9O1xuICAgIHRoaXMud2lkdGggPSAoKDIgKiB0aGlzLnJhZGl1cykgKyAoMiAqIHRoaXMubWFyZ2luKSkgKyAncHgnO1xuICAgIHRoaXMuaGVpZ2h0ID0gKCgyICogdGhpcy5yYWRpdXMpICsgKDIgKiB0aGlzLm1hcmdpbikpICsgJ3B4JztcbiAgfVxuXG4gIF9jYWxjdWxhdGVBcmNQb2ludHMoZGF0YSkge1xuICAgIGxldCBhcmNoUG9pbnRzID0gW107XG4gICAgYXJjaFBvaW50cy5wdXNoKHtcbiAgICAgIHg6IHRoaXMucmFkaXVzLFxuICAgICAgeTogMCxcbiAgICB9KTtcblxuICAgIGxldCBzdGFydEFuZ2xlID0gMDtcbiAgICBsZXQgZW5kQW5nbGU7XG4gICAgbGV0IHN0YXJ0WCA9IHRoaXMub3JpZ2luLng7XG4gICAgbGV0IHN0YXJ0WSA9IHRoaXMub3JpZ2luLnk7XG5cbiAgICBmb3IgKGxldCBpdGVtIG9mIGRhdGEpIHtcbiAgICAgIGVuZEFuZ2xlID0gKHN0YXJ0QW5nbGUgKyBpdGVtLmFuZ2xlKSAlIDM2MDtcbiAgICAgIHN0YXJ0QW5nbGUgKz0gODtcbiAgICAgIC8vIGVuZEFuZ2xlIC09NTtcblxuICAgICAgbGV0IGFyYyA9IHRoaXMuX2Rlc2NyaWJlQXJjKHN0YXJ0WCwgc3RhcnRZLCB0aGlzLnJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGl0ZW0uY29sb3IpO1xuICAgICAgdGhpcy5hcmNzLnB1c2goYXJjKTtcblxuICAgICAgc3RhcnRBbmdsZSA9IGVuZEFuZ2xlO1xuICAgIH1cbiAgfVxuXG4gIF9kZXNjcmliZUFyYyh4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBjb2xvcil7XG4gICAgbGV0IHN0YXJ0ID0gdGhpcy5fcG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUpO1xuICAgIGxldCBlbmQgPSB0aGlzLl9wb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgZW5kQW5nbGUpO1xuICAgIGxldCBhcmNTd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSA8PSAxODAgPyBcIjBcIiA6IFwiMVwiO1xuXG4gICAgbGV0IGQgPSBbXG4gICAgICAgIFwiTVwiLCBzdGFydC54LCBzdGFydC55LFxuICAgICAgICBcIkFcIiwgcmFkaXVzLCByYWRpdXMsIDAsIGFyY1N3ZWVwLCAxLCBlbmQueCwgZW5kLnksXG4gICAgICAgIC8vIFwiTFwiLCB4LHksXG4gICAgICAgIC8vIFwiTFwiLCBzdGFydC54LCBzdGFydC55XG4gICAgXS5qb2luKFwiIFwiKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkOiBkLFxuICAgICAgZW5kOiBlbmQsXG4gICAgICBjb2xvcjogY29sb3IsXG4gICAgfTtcbiAgfVxuXG4gIF9jYWxjdWxhdGVBbmdsZXMoZGF0YSkge1xuICAgIGxldCBhbmdsZXMgPSBbXTtcbiAgICBsZXQgdG90YWwgPSB0aGlzLl9nZXRUb3RhbChkYXRhKTtcbiAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBkYXRhSXRlbSA9IGRhdGFbaV07XG4gICAgICBsZXQgYW5nbGUgPSAoZGF0YUl0ZW0udmFsdWUgLyB0b3RhbCkgKiAzNjAuMDtcbiAgICAgIGRhdGFJdGVtLmFuZ2xlID0gYW5nbGU7XG4gICAgICBkYXRhSXRlbS5wZXJjZW50YWdlID0gKChkYXRhSXRlbS52YWx1ZSAvIHRvdGFsKSAqIDEwMC4wKS50b0ZpeGVkKDIpICsgJyUnO1xuICAgICAgYW5nbGVzLnB1c2goYW5nbGUpO1xuICAgIH1cblxuICAgIHJldHVybiBhbmdsZXM7XG4gIH1cblxuICBfZ2V0VG90YWwoZGF0YSkge1xuICAgIHJldHVybiBkYXRhLnJlZHVjZSgoYSwgYikgPT4gKHsgdmFsdWUgOiBhLnZhbHVlICsgYi52YWx1ZSB9KSkudmFsdWU7XG4gIH1cblxuICBfcG9sYXJUb0NhcnRlc2lhbihjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGFuZ2xlSW5EZWdyZWVzKSB7XG4gICAgbGV0IGFuZ2xlSW5SYWRpYW5zID0gKGFuZ2xlSW5EZWdyZWVzKSAqIE1hdGguUEkgLyAxODAuMDtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBjZW50ZXJYICsgKHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKSkgKyB0aGlzLm1hcmdpbixcbiAgICAgIHk6IGNlbnRlclkgKyAocmFkaXVzICogTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpKSArIHRoaXMubWFyZ2luLFxuICAgIH07XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IE5neERvbnV0Q2hhcnRDb21wb25lbnQgfSBmcm9tICcuL25neC1kb251dC1jaGFydC5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW05neERvbnV0Q2hhcnRDb21wb25lbnRdLFxuICBleHBvcnRzOiBbTmd4RG9udXRDaGFydENvbXBvbmVudF1cbn0pXG5leHBvcnQgY2xhc3MgTmd4RG9udXRDaGFydE1vZHVsZSB7IH1cbiJdfQ==